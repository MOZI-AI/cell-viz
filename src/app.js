import React, { useState, useEffect } from "react";
import GenericCell from "./components/generic-cell";
import "./style.css";

export default () => {
  const [graph, setGraph] = useState();

  /*
  Load the graph JSON that is generated by MOZI's annotation service
  */
  const handleFileUpload = (e) => {
    const reader = new FileReader();
    reader.onload = () => setGraph(JSON.parse(reader.result));
    reader.readAsText(e.target.files[0]);
  };

  return (
    <div className="main-container">
      <nav className="navigation">
        <h1>Cell Viz</h1>
        <input
          type="file"
          accept="application/JSON"
          onChange={handleFileUpload}
        />
        <br />
        <br />
        Navigation
      </nav>
      <div className="content">
        <GenericCell graph={graph} />
      </div>
      <div className="filters">Filters</div>
    </div>
  );
};
